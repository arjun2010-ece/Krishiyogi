HOW TO CONNECT MYSQL WITH EXPRESS JS
====================================
We need the base mysql-server installed globally but we need a wrapper package mysql2 inside express application for it to be able to connect.


1. INSTALL MYSQL GLOBALLY
   sudo apt-get install mysql-server
   
   sudo mysql_secure_installation  // these will ask for various options where you can set passwords
   
   then fire "sudo mysql" to enter into console.
   
   
// 123456789a  --pwd

 setup a new user "arjun" and pwd "123456789a", very important and thais configuration needed in connection requests
 and grant all privelages in consoles.
// CREATE USER 'arjun'@'localhost' IDENTIFIED BY '123456789a#';
// GRANT ALL PRIVILEGES ON * . * TO 'arjun'@'localhost';
// FLUSH PRIVILEGES;


https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/#apt-repo-fresh-install

//check the status
sudo service mysql status

//stop the server
sudo service mysql stop

//start the server
sudo service mysql start

2. IN THE PROJECT, INSTALL A WRAPPER OF MYSQL
    
  npm instal mysql2
  
In the database.js file in root folders::

const mysql = require("mysql2");

module.exports = mysql.createConnection({
    host: "localhost",
    user: "arjun",
    password: "123456789a#",
    database: "market"
})

// these configurations are given by below commands::
// CREATE USER 'arjun'@'localhost' IDENTIFIED BY '123456789a#';
// GRANT ALL PRIVILEGES ON * . * TO 'arjun'@'localhost';
// FLUSH PRIVILEGES;

then in the app.js file::

const db = require("./database");

app.post("/post", (req, res) => {
  const {username, password} = req.body;
  if(username && password){
    try {
      db.promise().query(`INSERT INTO users VALUES('${username}', '${password}')`);
      res.status(201).send({ msg: "Created user."});
    } catch (error) {
      console.log("error is ", error);
    }
  }
})



Note::
in the mysql console entered by "sudo mysql" :

show databases;

create database market;
use market;
show tables;
create table users (username varchar(255), password varchar(255));
select * from users; // please focus on uppercase and capitalize tables names

=========================================================================
2. With mysql we use Sequelize ORM.

      two packages are installed here:
      -> sequelize
      -> sequelize-cli


3. In the project root folder, fire the beow cmd:
      npx sequelize-cli init    // it will generate config folder where database credentials are given
                                // and models/index.js file are generated for base model configurations.
   

4. Sequelize CLI models generation::
         --> First model generation command takes models-path, then models name then attributes (comma separated).
         here cmd is "model:generate"
         npx sequelize-cli model:generate --models-path  "..."  --name "modelname in capitalised"  --attributes "tyudh, aeyd"
      
      Model name should be like Product, Category or Brand.
Example::
npx sequelize-cli model:generate --models-path models/product --name Category --attributes name:string,slug:string,description:string,metaDescription:string,
metaKeywords:string,categoryStatus:enum,isDeleted:boolean





